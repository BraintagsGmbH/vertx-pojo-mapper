<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>vertx pojo mapper common</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>vertx pojo mapper common</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_quick_start">1. Quick-Start</a>
<ul class="sectlevel2">
<li><a href="#_using_vertx_pojo_mapper">1.1. Using vertx-pojo-mapper</a></li>
<li><a href="#_initializing_an_idatastore">1.2. Initializing an IDataStore</a>
<ul class="sectlevel3">
<li><a href="#_initialize_by_datastoresettings">1.2.1. Initialize by DataStoreSettings</a></li>
</ul>
</li>
<li><a href="#_creating_a_mapper">1.3. Creating a mapper</a></li>
<li><a href="#_saving_data_into_a_datastore">1.4. Saving data into a datastore</a></li>
<li><a href="#_searching_data_in_a_datastore">1.5. Searching data in a datastore</a></li>
<li><a href="#_deleting_data">1.6. Deleting data</a></li>
<li><a href="#_executing_native_database_specific_commands">1.7. Executing native, database specific commands</a>
<ul class="sectlevel3">
<li><a href="#_using_the_internal_driver">1.7.1. Using the internal driver</a></li>
<li><a href="#_using_iquery_for_a_native_command">1.7.2. Using IQuery for a native command</a></li>
</ul>
</li>
<li><a href="#_complexer_mapper_definitions">1.8. Complexer mapper definitions</a>
<ul class="sectlevel3">
<li><a href="#_handling_of_subobjects">1.8.1. Handling of subobjects</a></li>
<li><a href="#_lifecycle_methods">1.8.2. Lifecycle methods</a></li>
<li><a href="#_encryption">1.8.3. Encryption</a></li>
</ul>
</li>
<li><a href="#_working_with_geodata">1.9. Working with geodata</a></li>
</ul>
</li>
<li><a href="#_more_details_about_vertx_pojo_mapper">2. More details about vertx-pojo-mapper</a>
<ul class="sectlevel2">
<li><a href="#_idatastore">2.1. IDataStore</a></li>
<li><a href="#_keygenerator">2.2. KeyGenerator</a></li>
<li><a href="#_mapping_of_java_classes">2.3. Mapping of Java classes</a>
<ul class="sectlevel3">
<li><a href="#_mapper">2.3.1. Mapper</a></li>
<li><a href="#_tablegenerator_and_columnhandler">2.3.2. TableGenerator and ColumnHandler</a></li>
</ul>
</li>
<li><a href="#_typehandlers">2.4. TypeHandlers</a></li>
<li><a href="#_existing_annotations">2.5. Existing annotations</a>
<ul class="sectlevel4">
<li><a href="#__code_a_href_unavailable_entity_a_code"><code><a href="unavailable">@Entity</a></code></a></li>
<li><a href="#__code_a_href_unavailable_id_a_code"><code><a href="unavailable">@Id</a></code></a></li>
<li><a href="#__code_a_href_unavailable_property_a_code"><code><a href="unavailable">@Property</a></code></a></li>
<li><a href="#__code_a_href_unavailable_referenced_a_code"><code><a href="unavailable">@Referenced</a></code></a></li>
<li><a href="#__code_a_href_unavailable_embedded_a_code"><code><a href="unavailable">@Embedded</a></code></a></li>
<li><a href="#__code_a_href_unavailable_objectfactory_a_code"><code><a href="unavailable">@ObjectFactory</a></code></a></li>
<li><a href="#__code_a_href_unavailable_afterload_a_code"><code><a href="unavailable">@AfterLoad</a></code></a></li>
<li><a href="#__code_a_href_unavailable_beforeload_a_code"><code><a href="unavailable">@BeforeLoad</a></code></a></li>
<li><a href="#__code_a_href_unavailable_aftersave_a_code"><code><a href="unavailable">@AfterSave</a></code></a></li>
<li><a href="#__code_a_href_unavailable_beforesave_a_code"><code><a href="unavailable">@BeforeSave</a></code></a></li>
<li><a href="#__code_a_href_unavailable_afterdelete_a_code"><code><a href="unavailable">@AfterDelete</a></code></a></li>
<li><a href="#__code_a_href_unavailable_beforedelete_a_code"><code><a href="unavailable">@BeforeDelete</a></code></a></li>
<li><a href="#__code_a_href_unavailable_keygenerator_a_code"><code><a href="unavailable">@KeyGenerator</a></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_creating_a_new_implementation">3. Creating a new implementation</a></li>
<li><a href="#_further_links">4. Further links</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Map Java objects into datastores and back</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start">1. Quick-Start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although this library will deal with completely different types of datastores like SQL, NoSQL etc., we are using some
idioms inside the further description, which are more or less database depending.</p>
</div>
<div class="paragraph">
<p>Thus a "table" will refer to a
table inside a MySQL for instance and to a collection inside a MongoDB - just to avoid stringy text constructions.</p>
</div>
<div class="sect2">
<h3 id="_using_vertx_pojo_mapper">1.1. Using vertx-pojo-mapper</h3>
<div class="paragraph">
<p>To use this project, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>de.braintags<span class="tag">&lt;/groupId&gt;</span>
<span class="tag">&lt;artifactId&gt;</span>vertx-pojo-mapper-common<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;version&gt;</span>1.4.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
compile <span class="string"><span class="delimiter">'</span><span class="content">de.braintags:vertx-pojo-mapper-common:1.4.0-SNAPSHOT</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>replace maven-artifactId against one of</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>vertx-pojongo</strong> the mongo driver</p>
</li>
<li>
<p><strong>vertx-pojo-mapper-mysql</strong> the MySql driver</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_initializing_an_idatastore">1.2. Initializing an IDataStore</h3>
<div class="paragraph">
<p>The initialization of the <code><a href="unavailable">IDataStore</a></code> is the only action, where you are
directly referring to a concrete implementation. In this example we will use a Mongo-DB as datastore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">JsonObject config = <span class="keyword">new</span> JsonObject();
config.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">connection_string</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">mongodb://localhost:27017</span><span class="delimiter">&quot;</span></span>);
config.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">db_name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">PojongoTestDatabase</span><span class="delimiter">&quot;</span></span>);
MongoClient mongoClient = MongoClient.createNonShared(vertx, config);
MongoDataStore mongoDataStore = <span class="keyword">new</span> MongoDataStore(vertx, mongoClient, config);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To initialize the datastore, we are first creating an instance of MongoClient from the vertx-mongo-client.
To create an instance we define the properties with the minimum definition connection_string and db_name, which
are defining the location of the running Mongo-DB and the database to be used.
With this MongoClient we are then able to create a MongoDataStore, which will be the base for all the followings.</p>
</div>
<div class="sect3">
<h4 id="_initialize_by_datastoresettings">1.2.1. Initialize by DataStoreSettings</h4>
<div class="paragraph">
<p>In contrast to a programmatical initialization of an IDataStore, you may initialize it by using
<code><a href="unavailable">DataStoreSettings</a></code>, which you can simply store as
a local file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">try</span> {
  DataStoreSettings settings = loadDataStoreSettings(vertx, <span class="string"><span class="delimiter">&quot;</span><span class="content">/some/path/to/settings.json</span><span class="delimiter">&quot;</span></span>);
  IDataStoreInit dsInit = settings.getDatastoreInit().newInstance();
  dsInit.initDataStore(vertx, settings, initResult -&gt; {
    <span class="keyword">if</span> (initResult.failed()) {
      logger.error(<span class="string"><span class="delimiter">&quot;</span><span class="content">could not start mongo client</span><span class="delimiter">&quot;</span></span>, initResult.cause());
      handler.handle(<span class="predefined-type">Future</span>.failedFuture(<span class="keyword">new</span> InitException(initResult.cause())));
    } <span class="keyword">else</span> {
      handler.handle(<span class="predefined-type">Future</span>.succeededFuture(initResult.result()));
    }
  });
} <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
  handler.handle(<span class="predefined-type">Future</span>.failedFuture(e));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example first the <code><a href="unavailable">DataStoreSettings</a></code> are loaded from a local
file. Afterwards the <code><a href="unavailable">IDataStoreInit</a></code> is instantiated and then the
method IDataStoreInit#initDataStore is called.
This method uses the <code><a href="unavailable#get_properties-instance_method">getProperties</a></code> to create a
suitable IDataStore.
The properties, which can be set here, are depending from the implementation of IDataStoreInit, please refer to the
extensions for MySql and MongoDb, for instance.</p>
</div>
<div class="paragraph">
<p>&lt;pre&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"> <span class="directive">public</span> DataStoreSettings loadDataStoreSettings(<span class="predefined-type">String</span> path) {
   FileSystem fs = vertx.fileSystem();
   <span class="keyword">if</span> (fs.existsBlocking(path)) {
     <span class="predefined-type">Buffer</span> buffer = fs.readFileBlocking(path);
     DataStoreSettings settings = Json.decodeValue(buffer.toString(), DataStoreSettings.class);
     <span class="keyword">return</span> settings;
   } <span class="keyword">else</span> {
     IDataStoreSettings settings = MongoDataStoreInit.createDefaultSettings();
     fs.writeFileBlocking(path, <span class="predefined-type">Buffer</span>.buffer(Json.encode(settings)));
     <span class="keyword">throw</span> <span class="keyword">new</span> FileSystemException(<span class="string"><span class="delimiter">&quot;</span><span class="content">File did not exist and was created new in path </span><span class="delimiter">&quot;</span></span> + path);
   }
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;/pre&gt;</p>
</div>
<div class="paragraph">
<p>The above method loads the DataStoreSettings from the filesystem as Json format. If the file doesn&#8217;t exist, the
default settings are created by requesting a static method of MongoDataStoreInit. After they are saved at the
expected location and an exeption is thrown, to force the user to edit them.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_mapper">1.3. Creating a mapper</h3>
<div class="paragraph">
<p>Creating a mapper is very simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MiniMapper</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="directive">public</span> <span class="type">int</span> number;

  <span class="directive">public</span> MiniMapper() {
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, you can specify any java class as a mapper by adding two annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="unavailable">@Entity</a></code>
is added at the class level and defines, that the class, where this annotation is added, is mappable by a datastore</p>
</li>
<li>
<p><code><a href="unavailable">@Id</a></code>
is added at one property field of the class and defines this field to be the key field, where inside the
identifyer of a record is generated and stored</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="small">don&#8217;t bother about the upper annotation @Source, which is needed to generate this documentation
and has nothing to do with the mapping definition</span></p>
</div>
<div class="paragraph">
<p>Instead of using public field, we could have defined the fields as private and added the suitable getter / setter
methods, but for this example its the shorter way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_saving_data_into_a_datastore">1.4. Saving data into a datastore</h3>
<div class="paragraph">
<p>First we are creating an instance like - lets say - instances are created in java?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">MiniMapper miniMapper = <span class="keyword">new</span> MiniMapper();
miniMapper.name = <span class="string"><span class="delimiter">&quot;</span><span class="content">my mini mapper</span><span class="delimiter">&quot;</span></span>;
miniMapper.number = <span class="integer">20</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next we want to save this MiniMapper into the connected datastore.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IWrite&lt;MiniMapper&gt; write = dataStore.createWrite(MiniMapper.class);
write.add(miniMapper);
write.save(result -&gt; {
  <span class="keyword">if</span> (result.failed()) {
    logger.error(result.cause());
  } <span class="keyword">else</span> {
    IWriteResult wr = result.result();
    IWriteEntry entry = wr.iterator().next();
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">written with id </span><span class="delimiter">&quot;</span></span> + entry.getId());
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">written action: </span><span class="delimiter">&quot;</span></span> + entry.getAction());
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">written as </span><span class="delimiter">&quot;</span></span> + entry.getStoreObject());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>To save one or more instances inside the datastore, we are first creating an
<code><a href="unavailable">IWrite</a></code>. As soon as we added the instance
into the IWrite, we are able to execute the save action on it and therefore save our MiniMapper into the
connected datastore.
In return we are receiving information about the action performed in an asynchrone way. The
<code><a href="unavailable">IWriteResult</a></code>, which was delivered to our
handler contains general informations about the action and specific information about each object, which was
saved by the current action. These information - delivered as
<code><a href="unavailable">IWriteEntry</a></code> -
include the type of action performed ( insert / update ), the id
of the instance ( especially for new instances ) and the native format of the instance, like it was translated to fit
the requirements of the connected datastore.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You may have noticed, that up to here we did not have to execute any intialization of the mapper inside the
datastore. This is, because the vertx-pojo-mapper is taking care about that completely automatic exactly then, when
it is
needed.
When you are creating an insert like above, or a query like later, the system checks, wether the mapper was
initialized already. If not, then the initialization is performed, which implements the automatic creation and update
of tables, collections etc. inside the connected datastore - so you don&#8217;t have to care about that, either.
Its this behaviour, why the vertx-pojo-mapper has only a very little overhead on startup!
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_searching_data_in_a_datastore">1.5. Searching data in a datastore</h3>
<div class="paragraph">
<p>To search inside the connected datastore, we are creating first an instance of
<code><a href="unavailable">IQuery</a></code>, then we are adding the query arguments on it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IQuery&lt;MiniMapper&gt; query = dataStore.createQuery(MiniMapper.class);
query.setSearchCondition(query.isEqual(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">my mini mapper</span><span class="delimiter">&quot;</span></span>));
query.execute(rResult -&gt; {
  <span class="keyword">if</span> (rResult.failed()) {
    logger.error(rResult.cause());
  } <span class="keyword">else</span> {
    IQueryResult&lt;MiniMapper&gt; qr = rResult.result();
    qr.iterator().next(itResult -&gt; {
      <span class="keyword">if</span> (itResult.failed()) {
        logger.error(itResult.cause());
      } <span class="keyword">else</span> {
        MiniMapper readMapper = itResult.result();
        logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Query found id </span><span class="delimiter">&quot;</span></span> + readMapper.id);
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the current example we are only searching for the name, but as IQuery supports a fluent api
we could simply and quickly add further arguments. Again - with the creation of the IQuery - the system checks wether
the mapper class was mapped already and performs the mapping if not.<br>
The query is processed by calling the execute method, which in turn will deliver an
<code><a href="unavailable">IQueryResult</a></code>. The IQueryResult contains several
information like the native query and a reference to found records. The found records can be requested step by step
by an Iterator or once as Array by requesting the method toArray.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To return as fast as possible and to produce the least overhead, in the first step the query only stores the
native result of the query inside the IQueryResult together with some meta information. Only when you are accessing
concrete objects by using the iterator of the IQueryResult or the method toArray, the needed java objects are
created, if not done already.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_deleting_data">1.6. Deleting data</h3>
<div class="paragraph">
<p>To delete instanced from the datastore, we are using
<code><a href="unavailable">IDelete</a></code>, where
we can add some concrete objects to be deleted or add an
<code><a href="unavailable">IQuery</a></code>, which defines
the criteria for a deletion. Mixing both isn&#8217;t possible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IDelete&lt;MiniMapper&gt; delete = dataStore.createDelete(MiniMapper.class);
delete.add(mapper);
delete.delete(deleteResult -&gt; {
  <span class="keyword">if</span> (deleteResult.failed()) {
    logger.error(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, deleteResult.cause());
  } <span class="keyword">else</span> {
    logger.info(deleteResult.result().getOriginalCommand());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the current example we are deleting an object, which we are expecting to exist in the datastore. First we are
creating an <code><a href="unavailable">IDelete</a></code> and add the instance to be deleted.
The execution of the delete is processed by calling the method delete, which will return an instance of
<code><a href="unavailable">IDeleteResult</a></code>. The method
<code><a href="unavailable#get_original_command-instance_method">getOriginalCommand</a></code> returns the native
arguments which were used to perform the delete action</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IQuery&lt;MiniMapper&gt; query = dataStore.createQuery(MiniMapper.class);
query.setSearchCondition(query.isEqual(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>));
IDelete&lt;MiniMapper&gt; delete = dataStore.createDelete(MiniMapper.class);
delete.setQuery(query);
delete.delete(deleteResult -&gt; {
  <span class="keyword">if</span> (deleteResult.failed()) {
    logger.error(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, deleteResult.cause());
  } <span class="keyword">else</span> {
    logger.info(deleteResult.result().getOriginalCommand());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example shows how to perform a delete action by using an
<code><a href="unavailable">IQuery</a></code>.
All records, which are fitting the arguments of the query are deleted.</p>
</div>
</div>
<div class="sect2">
<h3 id="_executing_native_database_specific_commands">1.7. Executing native, database specific commands</h3>
<div class="paragraph">
<p>If the facilities of vertx-pojo-mapper aren&#8217;t enough, you are able to execute native commands directly in two ways:</p>
</div>
<div class="sect3">
<h4 id="_using_the_internal_driver">1.7.1. Using the internal driver</h4>
<div class="paragraph">
<p>The method <code><a href="unavailable#get_client-instance_method">getClient</a></code> returns the internall client, which is
used to communicate with the database. Casting this to the correct Class will allow you to send native commands in
any form to the database and deal with the native format, like in the example here for a MongoDb:</p>
</div>
<div class="paragraph">
<p>&lt;pre&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"> MongoClient client = (MongoClient) datastore.getClient();
 JsonObject insertCommand = <span class="keyword">new</span> JsonObject();
 insertCommand.put(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">testName</span><span class="delimiter">&quot;</span></span>);
 client.insert(<span class="string"><span class="delimiter">&quot;</span><span class="content">TestCollection</span><span class="delimiter">&quot;</span></span>, insertCommand, result -&gt; {
   <span class="keyword">if</span> (result.failed()) {
     logger.error(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, result.cause());
   } <span class="keyword">else</span> {
     logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">executed: </span><span class="delimiter">&quot;</span></span> + result.result());
   }
 });</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;/pre&gt;</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_iquery_for_a_native_command">1.7.2. Using IQuery for a native command</h4>
<div class="paragraph">
<p>The method <code><a href="unavailable#set_native_command-instance_method">setNativeCommand</a></code> allows you to
define
an object with a native, database specific query expression. If this argument is passed and the IQuery is executed,
then the system will use this command to perform the query and will transform the result into instances of the
defined mapper.
In the example below we are performing a native execution for MySqlDataStore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IQuery&lt;MiniMapper&gt; query = datastore.createQuery(MiniMapper.class);
<span class="predefined-type">String</span> qs = <span class="string"><span class="delimiter">&quot;</span><span class="content">select * from MiniMapper where name LIKE </span><span class="char">\&quot;</span><span class="content">native%</span><span class="char">\&quot;</span><span class="delimiter">&quot;</span></span>;
query.setNativeCommand(qs);
query.execute(qr -&gt; {
<span class="keyword">if</span> (qr.succeeded()) {
IteratorAsync&lt;MiniMapper&gt; it = qr.result().iterator();
<span class="keyword">while</span> (it.hasNext()) {
...
}
}
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_complexer_mapper_definitions">1.8. Complexer mapper definitions</h3>
<div class="paragraph">
<p>The example above was very simple and straightforward, just to explain the basics of vertx-pojo-mapper. But of course
there are
existing much more possibilities to define mappers, where from we are listing some here ( the complete list of
annotations you will find below).</p>
</div>
<div class="sect3">
<h4 id="_handling_of_subobjects">1.8.1. Handling of subobjects</h4>
<div class="paragraph">
<p>Often you will have to define some mappers, where inside you are placing one or more properties, which are not of a
simple type like int, String, boolean etc., but which are based upon a complexer type. Think about a scenario, where
a person has one or more animals.<br>
For those relations you can define two ways, how the data are stored into the datastore:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>embedded<br>
the subobjects ( animals ) are stored inside the same table than the main object ( person )</p>
</li>
<li>
<p>referenced<br>
the subobjects ( animals ) are saved inside an own table; inside the main object ( person ) is saved a reference to
the subobjects, typically the key of the subobjects</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_storing_subobjects_embedded">Storing subobjects embedded</h5>
<div class="paragraph">
<p>To define, that a subobject shall be saved embedded is simply done by adding the annotation
<code><a href="unavailable">@Embedded</a></code> to the appropriate field</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonEmbed</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="annotation">@Embedded</span>
  <span class="directive">public</span> Animal animal;

  <span class="directive">public</span> PersonEmbed() {
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>How the embedding is technically processed, is decided by the <code><a href="unavailable">IDataStore</a></code>. In
the same way you are storing simple child objects, you are able to integrate lists, maps and arrays.</p>
</div>
<div class="paragraph">
<p>Subobjects as array of Animal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonEmbedArray</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="annotation">@Embedded</span>
  <span class="directive">public</span> Animal<span class="type">[]</span> animals;

  <span class="directive">public</span> PersonEmbedArray() {
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Subobjects as List of Animal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonEmbedList</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="annotation">@Embedded</span>
  <span class="directive">public</span> <span class="predefined-type">List</span>&lt;Animal&gt; animals;

  <span class="directive">public</span> PersonEmbedList() {
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Subobjects as Map of Animal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonEmbedMap</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="annotation">@Embedded</span>
  <span class="directive">public</span> <span class="predefined-type">Map</span>&lt;<span class="predefined-type">String</span>, Animal&gt; animals;

  <span class="directive">public</span> PersonEmbedMap() {
  }

}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_storing_subobjects_referenced">Storing subobjects referenced</h5>
<div class="paragraph">
<p>According the previous description, storing subobjects referenced is done by adding the annotation
<code><a href="unavailable">@Referenced</a></code> to the appropriate fields of the
mapper. Of course here, too, you are able to store lists, maps and arrays either.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">PersonRef</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="annotation">@Referenced</span>
  <span class="directive">public</span> Animal animal;

  <span class="directive">public</span> PersonRef() {
  }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lifecycle_methods">1.8.2. Lifecycle methods</h4>
<div class="paragraph">
<p>In vertx-pojo-mapper are existing a series of lifecycle annotations, by which you can modify the content
of objects as a function of its lifecycle. If you are annotating one or more methods of a mapper class with
one of the lifecycle annotations, then those method(s) are executed inside the suitable situation</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">LifecycleMapper</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;

  <span class="directive">public</span> LifecycleMapper() {
  }

  <span class="annotation">@BeforeLoad</span>
  <span class="directive">public</span> <span class="type">void</span> beforeLoad() {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just before load</span><span class="delimiter">&quot;</span></span>;
  }

  <span class="annotation">@AfterLoad</span>
  <span class="directive">public</span> <span class="type">void</span> afterLoad(ITriggerContext triggerContext) {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just after load</span><span class="delimiter">&quot;</span></span>;
    IDataStore ds = triggerContext.getMapper().getMapperFactory().getDataStore();
    IQuery&lt;MiniMapper&gt; q = ds.createQuery(MiniMapper.class);
    q.setSearchCondition(q.isEqual(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>));
    q.execute(qr -&gt; {
      <span class="keyword">if</span> (qr.failed()) {
        triggerContext.fail(qr.cause());
      } <span class="keyword">else</span> {
        <span class="comment">// do something</span>
        triggerContext.complete();
      }
    });
  }

  <span class="annotation">@BeforeSave</span>
  <span class="directive">public</span> <span class="type">void</span> beforeSave() {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just before save</span><span class="delimiter">&quot;</span></span>;
  }

  <span class="annotation">@AfterSave</span>
  <span class="directive">public</span> <span class="type">void</span> afterSave() {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just after save</span><span class="delimiter">&quot;</span></span>;
  }

  <span class="annotation">@BeforeDelete</span>
  <span class="directive">public</span> <span class="type">void</span> beforeDelete() {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just before deletion</span><span class="delimiter">&quot;</span></span>;
  }

  <span class="annotation">@AfterDelete</span>
  <span class="directive">public</span> <span class="type">void</span> afterDelete() {
    name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just after deletion</span><span class="delimiter">&quot;</span></span>;
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Currently are existing 6 lifecycle annotations</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="unavailable">@BeforeSave</a></code><br>
methods annotated with this, will be executed just before saving an instance into the datastore</p>
</li>
<li>
<p><code><a href="unavailable">@AfterSave</a></code><br>
methods annotated with this, will be executed just after saving an instance into the datastore</p>
</li>
<li>
<p><code><a href="unavailable">@BeforeLoad</a></code><br>
methods annotated with this, will be executed just before loading an instance from the datastore</p>
</li>
<li>
<p><code><a href="unavailable">@AfterLoad</a></code><br>
methods annotated with this, will be executed just after loading an instance from the datastore</p>
</li>
<li>
<p><code><a href="unavailable">@BeforeDelete</a></code><br>
methods annotated with this, will be executed just before deleting an instance from the datastore</p>
</li>
<li>
<p><code><a href="unavailable">@AfterDelete</a></code><br>
methods annotated with this, will be executed just after deleting an instance from the datastore</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The trigger methods can be empty, or get the parameter
<code><a href="unavailable">ITriggerContext</a></code>, by which you are able to access the current
<code><a href="unavailable">IDataStore</a></code> for instance, like shown in the example method afterLoad</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">name = <span class="string"><span class="delimiter">&quot;</span><span class="content">just after load</span><span class="delimiter">&quot;</span></span>;
IDataStore ds = triggerContext.getMapper().getMapperFactory().getDataStore();
IQuery&lt;MiniMapper&gt; q = ds.createQuery(MiniMapper.class);
q.setSearchCondition(q.isEqual(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>));
q.execute(qr -&gt; {
  <span class="keyword">if</span> (qr.failed()) {
    triggerContext.fail(qr.cause());
  } <span class="keyword">else</span> {
    <span class="comment">// do something</span>
    triggerContext.complete();
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_encryption">1.8.3. Encryption</h4>
<div class="paragraph">
<p>By using the annotation <code><a href="unavailable">@Encoder</a></code> you can encrypt field
contents like passwords for instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MiniMapperEncoded</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;
  <span class="directive">public</span> <span class="predefined-type">String</span> name;
  <span class="directive">public</span> <span class="type">int</span> number;
  <span class="annotation">@Encoder</span>(name = <span class="string"><span class="delimiter">&quot;</span><span class="content">StandardEncoder</span><span class="delimiter">&quot;</span></span>)
  <span class="directive">public</span> <span class="predefined-type">String</span> password;

  <span class="directive">public</span> MiniMapperEncoded() {
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example the field password is annotated with
<code><a href="unavailable">@Encoder</a></code>, which is getting the name of the encoder as
reference. Each datastore integrates one decoder by default,
<code><a href="unavailable">StandardEncoder</a></code> with the name StandardEncoder, which we are
referencing here. If you want to add another encoder, you can do that by modifying the
<code><a href="unavailable">DataStoreSettings</a></code> by adding an instance of
<code><a href="unavailable">EncoderSettings</a></code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_working_with_geodata">1.9. Working with geodata</h3>
<div class="paragraph">
<p>Specification of datatypes following the GeoJSON spec from <a href="http://geojson.org/" class="bare">http://geojson.org/</a>
Searching and saving geodata following the GeoJSON spec</p>
</div>
<div class="paragraph">
<p>tbd
Michael Remme</p>
</div>
<div class="paragraph">
<p>For more infos on how you can influence the mapping process, see the further descriptions above.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_details_about_vertx_pojo_mapper">2. More details about vertx-pojo-mapper</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_idatastore">2.1. IDataStore</h3>
<div class="paragraph">
<p><code><a href="unavailable">IDataStore</a></code> is the startpoint and the center of vertx-pojo-mapper.
By IDataStore you will access all the main instances you need, to deal with the underlaying datastore.
To instantiate a certain implementation of IDataStore, it should be the only time, where you are directly referencing
to a certain datastore or database. The way, how an implementation is instantiated, is depending on the
implementation itself:</p>
</div>
<div class="paragraph">
<p>Currently there are existing 2 implementations of IDataStore</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MongoDataStore<br>
in the sub project <a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojongo">vertx-pojongo</a>,
is an implementation which deals with Mongo-DB. Go
<a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojongo">here</a> to get more informations on
how to create an instance of MongoDataStore</p>
</li>
<li>
<p>MySqlDataStore<br>
in the sub project
<a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojo-mapper-mysql">vertx-pojo-mapper-mysql</a>
is an implementation which deals with MySql or MariaDb. Go
<a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojo-mapper-mysql">here</a> to get more
information on how to create an instance of MySqlDataStore</p>
</li>
<li>
<p>more implementations will follow soon</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Where by using the links above you will get some specific information how to initialize one of those implementations,
in the following parts we will go into the detail for some concepts of the api.</p>
</div>
</div>
<div class="sect2">
<h3 id="_keygenerator">2.2. KeyGenerator</h3>
<div class="paragraph">
<p>If you are inserting new records into a database, those records normally need to get a unique identifyer, typically a
primary key. All databases can generate such a key in an automatic manner, but not every database is returning the
generated key. For those databases, which don&#8217;t return the generated key, like MySql, the concept of
<code><a href="unavailable">IKeyGenerator</a></code> was implemented to allow a key generation with local
access before a new instance is saved into the datastore. Another use case is, when the datastore itself creates a
cryptic ID and a numeric one is needed<br>
The config below defines a default datastore, which is used for all mappers, where no KeyGenerator is defined.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">JsonObject datastoreConfig = <span class="keyword">new</span> JsonObject().put(<span class="string"><span class="delimiter">&quot;</span><span class="content">database</span><span class="delimiter">&quot;</span></span>, database)
.put(IKeyGenerator.DEFAULT_KEY_GENERATOR, FileKeyGenerator.NAME);
IDataStore datastore = <span class="keyword">new</span> MySqlDataStore(vertx, mySQLClient, mySQLClientConfig);
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To add an IKeyGenerator to a mapper, you will add the annotation
<code><a href="unavailable">@KeyGenerator</a></code> to the classes head and optionally define the type
of keygenerator, which shall be used.</p>
</div>
<div class="paragraph">
<p>Currently there are existing three implementations of <code><a href="unavailable">IKeyGenerator</a></code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="unavailable">DefaultKeyGenerator</a></code><br>
an implementation which uses the eventbus to request a key from
<code><a href="unavailable">KeyGeneratorVerticle</a></code>. To init and launch the KeyGeneratorVerticle, please
refer to the doscumentation of the project
<a href="https://github.com/BraintagsGmbH/vertx-key-generator/blob/master/src/docs/asciidoc/java/index.adoc"><strong>vertx-key-
generator</strong></a></p>
</li>
<li>
<p><code><a href="unavailable">DebugGenerator</a></code><br>
a local implementation which starts at zero by each launch and maybe useful for unint tests etc.</p>
</li>
<li>
<p>NULL as a special solution<br>
use <code><a href="todo">KeyGenerator.NULL_KEY_GENERATOR</a></code> as value to define, that no
keygenerator shall be used. This value is useful, when a default keygenerator is set and a certain class shal not use
one.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An <code><a href="unavailable">IDataStore</a></code> implementation might contain a set of
<code><a href="unavailable">IKeyGenerator</a></code>, which are supported by this implementation.
KeyGenerators are stored inside a map by their name and an instance. When initializing an
<code><a href="unavailable">IDataStore</a></code> you can add the property
<code><a href="todo">IKeyGenerator.DEFAULT_KEY_GENERATOR</a></code> together
with the name of the KeyGenerator, which shall be used as default. Additionally you can add the annotation
<code><a href="unavailable">@KeyGenerator</a></code> to a mapper, where you are specifying the name of
the KeyGenerator, which shall be used for this mapper.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_of_java_classes">2.3. Mapping of Java classes</h3>
<div class="paragraph">
<p>The mapping of vertx-pojo-mapper defines the bases and the rules on how POJOs are stored into and read from
the underlaying database and includes the automatic table creation and synchronization.</p>
</div>
<div class="paragraph">
<p>The mapping process
in vertx-pojo-mapper is performed exactly then, when it is needed.</p>
</div>
<div class="paragraph">
<p>When you are creating an <code><a href="unavailable">IQuery</a></code> for instance, the system
checks, wether the mapper was initialized already. If not, then the initialization is performed, which implements
the automatic creation and update of tables, collections etc. inside the connected datastore - so you don’t have
to care about that, either. Its this behaviour, why the vertx-pojo-mapper has only a very little overhead on startup!</p>
</div>
<div class="paragraph">
<p>During the mapping process the class is inspected for several information. The persistent fields of a mapper are
generated by inspecting public fields and BeanProperties. The rest of the configuration of a mapper is done by using
annotations. Annotations are always added to a field or the Class itself. Even annotations for those properties,
which are defined as getter / setter-method must be added to the underlaying field of the methods. For example mapper
definitions check the QuickStart.</p>
</div>
<div class="sect3">
<h4 id="_mapper">2.3.1. Mapper</h4>
<div class="paragraph">
<p>The result of the mapping process is an <code><a href="unavailable">IMapper</a></code>, which is created by
and stored inside the <code><a href="unavailable">IMapperFactory</a></code> implementation, which fits the
needs of the underlaying datastore or database. The IMapper contains general information about the mapped class and
the generated, respectively connected table in the datastore. Additionally it contains per property of the mapper an
instance of <code><a href="unavailable">IField</a></code>, where the field and its behaviour regarding the
mapping are desribed. Additionally per field the information about the connected column inside the datastore are kept
inside an instance of <code><a href="unavailable">IColumnInfo</a></code></p>
</div>
</div>
<div class="sect3">
<h4 id="_tablegenerator_and_columnhandler">2.3.2. TableGenerator and ColumnHandler</h4>
<div class="paragraph">
<p>As explained above, vertx-pojo-mapper is able to generate needed structures in the underlaying datastore, like tables
for sql databases. Base for the generation is the
<code><a href="unavailable">IColumnHandler</a></code>, from which the suitable instance is stored
inside the IField. The IColumnHandler is detected during the mapping process by requesting a suitable one from the
<code><a href="unavailable">ITableGenerator</a></code> used by a datastore implementation.
The process of creation and synchronization is performed by
<code><a href="unavailable">IDataStoreSynchronizer</a></code>
Michael Remme</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_typehandlers">2.4. TypeHandlers</h3>
<div class="paragraph">
<p>When objects shall be stored into or read from a datastore, the values must be converted in many
cases.</p>
</div>
<div class="paragraph">
<p>This is the job of an <code><a href="unavailable">ITypeHandler</a></code>. During the mapping of
a mapper property the suitable ITypeHandler is detected by requesting the
<code><a href="unavailable">ITypeHandlerFactory</a></code> of the underlaying
<code><a href="unavailable">IDataStore</a></code>. The found ITypeHandler is stored inside the appropriate
<code><a href="unavailable">IField</a></code> and from there used, when a value is read from or shall be
written into the datastore.
Michael Remme</p>
</div>
</div>
<div class="sect2">
<h3 id="_existing_annotations">2.5. Existing annotations</h3>
<div class="paragraph">
<p>AS explained above, the definition of the mapping is currently done by using annotations, which are added to class
header of the pojo or to the single properties, to define the behavior of this class in terms of mapping.</p>
</div>
<div class="paragraph">
<p>Existing annotations are:</p>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_entity_a_code"><code><a href="unavailable">@Entity</a></code></h5>
<div class="paragraph">
<p>( name = "tableName" )<br>
The annotation <code><a href="unavailable">@Entity</a></code> defines a POJO to be mappable.
Additionally you are able to set the name of the table, which is used to store the information in the
<code><a href="unavailable">IDataStore</a></code>. By default the system will use the short classname of the
mapper.</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_id_a_code"><code><a href="unavailable">@Id</a></code></h5>
<div class="paragraph">
<p>One field of the mapper must be annotated by <code><a href="unavailable">@Id</a></code>, which
will mark the annotated field as primary key</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_property_a_code"><code><a href="unavailable">@Property</a></code></h5>
<div class="paragraph">
<p>Properties of a mapper are stored inside the <code><a href="unavailable">IDataStore</a></code> by using the
field name by default. By annotating a field with the annotation Property, you are able to modify the name of the
column in the table. Additionally you are able to define other attributes, which are very datastore specific, so you
should use them never or only very carefully:</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_referenced_a_code"><code><a href="unavailable">@Referenced</a></code></h5>
<div class="paragraph">
<p>When you define a mapper, which internally references with one property to another mapper ( see example Person and
his animals ), then you can define the way, how subobjects are stored inside the datastore. With this annotation you
define, that the subobjects are stored inside a separate table, and in the field itself only a reference - typically
the identifier - is saved. When reading the instance then from the datastore, the references are resolved
automatically.</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_embedded_a_code"><code><a href="unavailable">@Embedded</a></code></h5>
<div class="paragraph">
<p>The counterpart to <code><a href="unavailable">@Referenced</a></code>. A property, which is marked
with this annotation will be saved completely inside the table. How this is done, is decided by the implementation of
the <code><a href="unavailable">IDataStore</a></code> you are using.</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_objectfactory_a_code"><code><a href="unavailable">@ObjectFactory</a></code></h5>
<div class="paragraph">
<p>By default the <code><a href="unavailable">IObjectFactory</a></code> is defined inside each
<code><a href="unavailable">IMapper</a></code> by using a default implementation. If you need another
implementation you are able to set it by adding this annotation to the mapper class and reference the class of the
<code><a href="unavailable">IObjectFactory</a></code> you want to use.</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_afterload_a_code"><code><a href="unavailable">@AfterLoad</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed after an instance was loaded from the
<code><a href="unavailable">IDataStore</a></code></p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_beforeload_a_code"><code><a href="unavailable">@BeforeLoad</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed before an instance is loaded from the
<code><a href="unavailable">IDataStore</a></code>. That means, first the new instance is created, then the
method is executed and then the data are transferred into the instance</p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_aftersave_a_code"><code><a href="unavailable">@AfterSave</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed after an instance was saved into the
<code><a href="unavailable">IDataStore</a></code></p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_beforesave_a_code"><code><a href="unavailable">@BeforeSave</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed before an instance is saved into the
<code><a href="unavailable">IDataStore</a></code></p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_afterdelete_a_code"><code><a href="unavailable">@AfterDelete</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed after an instance was deleted from the
<code><a href="unavailable">IDataStore</a></code></p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_beforedelete_a_code"><code><a href="unavailable">@BeforeDelete</a></code></h5>
<div class="paragraph">
<p>All methods, which are annotated by this annotation are executed before an instance is deleted from the
<code><a href="unavailable">IDataStore</a></code></p>
</div>
</div>
<div class="sect4">
<h5 id="__code_a_href_unavailable_keygenerator_a_code"><code><a href="unavailable">@KeyGenerator</a></code></h5>
<div class="paragraph">
<p>With this annotation you may define the <code><a href="unavailable">IKeyGenerator</a></code>, which shall
be used for the mapper. Normally the IKeyGenerator is used, which is defined as default by
<code><a href="unavailable#get_default_key_generator-instance_method">getDefaultKeyGenerator</a></code>, which should be normally
<code><a href="unavailable">DefaultKeyGenerator</a></code>. As a value for this annotation you
are defining the name of the IKeyGenerator, which shall be used</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Source</span>(translate = <span class="predefined-constant">false</span>)
<span class="annotation">@Entity</span>
<span class="annotation">@KeyGenerator</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">KeyGeneratorMapper</span> {
  <span class="annotation">@Id</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> id;

}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_new_implementation">3. Creating a new implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>tbd</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_links">4. Further links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To get specific information about the concrete implementation of an
<code><a href="unavailable">IDataStore</a></code>, especially the initialization, go to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojo-mapper-mysql">implementation for
MySql</a></p>
</li>
<li>
<p><a href="https://github.com/BraintagsGmbH/vertx-pojo-mapper/tree/master/vertx-pojongo">implementation for Mongo-DB</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-01-13 16:12:36 +01:00
</div>
</div>
</body>
</html>